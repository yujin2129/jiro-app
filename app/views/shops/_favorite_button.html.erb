<% if user_signed_in? %>
  <% if current_user.favorite_shops.include?(shop) %>
    <%= button_to shop_favorite_path(shop),
                  method: :delete,
                  data: { turbo_stream: true },
                  class: "btn btn-outline-warning" do %>
      <i class="bi bi-star-fill"></i> お気に入り解除
    <% end %>
  <% else %>
    <%= button_to shop_favorite_path(shop),
                  method: :post,
                  data: { turbo_stream: true },
                  class: "btn btn-warning" do %>
      <i class="bi bi-star"></i> お気に入り登録
    <% end %>
  <% end %>
<% else %>
  <%= link_to new_user_session_path, class: "btn btn-outline-warning" do %>
    <i class="bi bi-star"></i> ログインしてお気に入り登録
  <% end %>
<% end %>
